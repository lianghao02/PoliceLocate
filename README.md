# 👮‍♂️ Police Locate Helper (警用定位助手)

![Version](https://img.shields.io/badge/Version-v50.0-blue)
![License](https://img.shields.io/badge/License-Proprietary-red)

這是一個專為警務人員設計的輔助工具，能快速解析電信查詢回傳的雜亂文字，自動提取關鍵資訊（座標、時間、門號）並進行地圖定位與導航。

---

## ✨ 核心功能

* **⚡ 智慧解析 (Smart Parse)**：
  * 支援直接貼上電信公司回傳的簡訊或查詢結果。
  * 自動辨識 **經緯度座標** (TWD97/WGS84 自動判讀)。
  * 自動提取 **目標門號**、**定位請求時間**、**註冊基地台時間**。
  * 自動判讀 **方位角 (Azimuth)** 並在地圖上繪製扇形區域。

* **🗺️ 地圖視覺化**：
  * 內建 OpenStreetMap 離線地圖顯示。
  * 支援顯示定位點標記 (Marker) 與方位角扇形 (Sector)。
  * 一鍵開啟 **Google Maps** 進行導航。

* **📋 便捷操作**：
  * **一鍵複製**：將整理好的格式化資訊（含 Google Maps 連結）複製到剪貼簿。
  * **快速分享**：支援一鍵傳送至 **LINE** 或 **Telegram** 群組。
  * **歷史紀錄**：自動儲存最近 50 筆查詢紀錄，方便隨時回溯。

* **📱 PWA 支援**：
  * 支援加入主畫面，如同原生 App 般的全螢幕操作體驗。
  * RWD 響應式設計，完美支援手機與電腦版面。

---

## 🛠️ 使用教學

1. **貼上資訊**：將電信查詢結果（簡訊或文字檔）直接貼入上方文字框，或使用「📋 貼上」按鈕。
2. **解析定位**：點擊「⚡ 解析並定位」按鈕，系統將自動提取資訊並顯示於下方欄位。
3. **查看地圖**：下方地圖會自動移動至目標位置，若有方位角資訊會顯示紅色扇形區域。
4. **分享/導航**：
    * 點擊「Google Map」開啟導航。
    * 點擊「複製資訊」取得整理好的文字報告。
    * 點擊「LINE」或「Telegram」快速回報。

---

## 📋 輸出格式說明

本工具自動整理的文字報告格式如下，方便快速閱讀與分享：

1. **Google Maps 連結** (點擊即導航)
2. **門號**
3. **定位請求時間**
4. **註冊基地台時間**
5. **定位經緯度** (Lat, Lng)
6. **方位角** (若有)

## 🔧 技術規格

* **前端架構**：原生 HTML5 / CSS3 / JavaScript (ES6+)。
* **地圖核心**：Leaflet.js (OpenStreetMap)。
* **資料儲存**：Local Storage (純前端運算，資料不回傳伺服器，確保資安)。
* **解析邏輯**：
  * 支援多種座標格式自動正規化。
  * 智慧判斷台灣座標範圍 (Lat: 21-27, Lng: 118-124)。

---

## ⚠️ 注意事項

* 本工具僅供公務使用，請遵守相關資安規定。
* 座標轉換存在些許誤差，實際位置請以現場狀況為準。
